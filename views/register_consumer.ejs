<head>
    <link rel="stylesheet" href="css/style1.css">
</head>

<div class="">
    <h2>Register as a customer</h2>
    <form action="/accounts/register/consumer" method="post">
        <label for="username">Username:</label>
        <input type="text" id="username" name="username" required>
        
        <label for="firstname">First Name:</label>
        <input type="text" id="firstname" name="firstname" required>

        <label for="lastname">Last Name:</label>
        <input type="text" id="lastname" name="lastname" required>

        <label for="email">Email:</label>
        <input type="email" id="email" name="email" required>

        <label for="password">Password:</label>
        <input type="password" id="password" name="password" required>

        <label for="confirm_password">Confirm Password:</label>
        <input type="password" id="confirm_password" name="confirm_password" required>

        <div class="invisible" id="message"></div>

        <label for="phone">Phone Number:</label>
        <input type="tel" id="phone" name="phone">

        <label for="state"> Select State:</label>
        <select id="state" name="state">
            <option value="">Select State</option>
            <option value="maharashtra">Maharastra</option>       
        </select>

        <label for="city">Select City:</label>
        <select id="city" name="city">
            <option value="">Select City</option>
            <% cities.forEach(function(city) {  %>
                <option value="city.name"><%=city.name %></option>
            <% }) %>
        </select>
        <input type="submit" value="Register">
    </form>
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script>
    $('#password, #confirm_password').on('keyup', function () {
        if ($('#password').val() == $('#confirm_password').val()) {
          $('message').removeClass('invisible');
          $('#message').text('Matching').css('color', 'green');
          $('input[type="submit"]').removeAttr('disabled');
        } else {
          $('message').removeClass('invisible');
          $('#message').text('Not Matching').css('color', 'red');
          $('input[type="submit"]').attr('disabled','disabled');
        }
    });
</script>